@import url('https://fonts.googleapis.com/css2?family=Lora:wght@500;600;700&display=swap');

@import "tailwindcss";
@tailwind base;
@tailwind components;
@tailwind utilities;
@import "tailwindcss";

@theme {
  /* --- Primary Brand Colors --- */
  --color-brand-green: #4A5D4E;
  --color-brand-green-hover: #3d4d40;
  --color-brand-terracotta: #BC6C4D; 
  --color-brand-terracotta-hover: #A55E42;
  
  /* --- Backgrounds & Surfaces --- */
  --color-brand-beige: #F9F7F2;  
  --color-brand-stone: #F2F0E9;  
  
  /* --- Borders & Outlines --- */
  --color-brand-border: #C8C4BD;
  
  /* --- Typography --- */
  --color-brand-dark: #2D2D2D;   
  --color-brand-text: #6B6658;   
  --color-brand-muted: #A09B8E;  

  /* --- Animations (Used in Dashboard & Vouch) --- */
  --animate-in: fade-in 0.5s ease-out;

  --bento-text-main: #1a202c;
  --bento-text-muted: #4a5568;
  --bento-bg-page: #fdfcf8;
  
  /* Bento Energy Palette */
  --color-trust-blue: rgba(182, 216, 255, 0.9);
  --color-local-yellow: rgba(255, 243, 197, 0.9);
  --color-social-green: rgba(210, 255, 229, 0.9);
  --color-help-pink: rgba(255, 228, 249, 0.9);
  --color-deeds-azure: rgba(233, 244, 255, 0.9);
}

@layer base {
  body {
    /* Nestig-style "Linen" background */
    @apply bg-brand-beige text-brand-dark antialiased;
    font-family: 'Lora', serif;
  }

  /* Refined Serif for headings - you can import Lora via Google Fonts */
  h1, h2, h3, .font-serif {
    @apply tracking-tight;
  }
}

@layer components {
  .bg-hero-vision {
    @apply min-h-screen flex flex-col transition-all bg-no-repeat bg-top bg-auto;
    background-color: var(--bento-bg-page);
    background-image: 
      linear-gradient(rgba(253, 252, 248, 0.7), rgba(253, 252, 248, 0.7)), 
      url('/hero_background.webp');
  }

  .bg-hero-vision-md {
    @apply bg-contain;
  }

  /* 2. Layout: Bento Grid & Positioning */
  .bento-grid {
    @apply grid grid-cols-2 md:grid-cols-3 gap-4 max-w-5xl mx-auto px-6 mb-12;
  }

  .card-cta {
    @apply p-4 mx-auto md:w-2xl;
  }

  .card-main-focus {
    @apply lg:row-span-3 p-4 flex flex-col justify-start h-[100%];
  }

  .card-feature {
    @apply p-2 flex gap-2 items-center md:items-start hover:scale-[1.02] transition-transform;
  }

  .bg-flow {
    @apply lg:bg-no-repeat lg:bg-[url('/vouch_flow.webp')] lg:bg-size-[100%] lg:bg-[70%_30%];
  }

  /* 3. Input & Form Elements */
  .input-magic-link {
    @apply w-full pl-12 pr-4 py-4 rounded-2xl border-none bg-white shadow-inner text-lg outline-none ring-offset-2;
    @apply focus:ring-2;
    focus-within: ring-[var(--terracotta)];
  }

  /* 4. Semantic Roundness & Glass */
  .rounded-bento-lg { border-radius: 32px; }
  .rounded-bento-sm { border-radius: 28px; }

  .glass-morphism {
    @apply backdrop-blur-md border border-white/50 shadow-sm transition-transform duration-200;
  }

  /* 5. Color Tokens */
  .text-vision-main { color: var(--bento-text-main); }
  .text-vision-muted { color: var(--bento-text-muted); }
  .bg-brand-terracotta { background-color: var(--terracotta); @apply text-white hover:brightness-110; }
  
  .card-trust { background-color: var(--color-trust-blue); }
  .card-local { background-color: var(--color-local-yellow); }
  .card-social { background-color: var(--color-social-green); }
  .card-help { background-color: var(--color-help-pink); }
  .card-deeds { background-color: var(--color-deeds-azure); }
  /* The "Primary Action" - Muted Forest Green */
  .btn-primary {
    @apply w-full py-4 bg-brand-green text-white rounded-2xl capitalize tracking-widest 
           shadow-xl shadow-brand-green/10 
           hover:bg-brand-green-hover active:scale-[0.98] 
           transition-all disabled:opacity-50 
           flex items-center justify-center gap-2;
  }

  /* The "Secondary Action" - Warm Terracotta */
  .btn-secondary {
    @apply w-full py-4 bg-brand-terracotta text-white rounded-2xl capitalize tracking-widest 
           shadow-xl shadow-brand-terracotta/10 
           hover:bg-brand-terracotta-hover active:scale-[0.98] 
           transition-all disabled:opacity-50 
           flex items-center justify-center gap-2;
  }

  /* The base "Artisan Outline" button */
  .btn-outline {
    @apply w-full py-4 rounded-xl text-xs capitalize tracking-widest 
           border transition-all duration-300 active:scale-[0.98]
           flex items-center justify-center gap-2;
  }

  .btn-outline-active {
    @apply bg-brand-green text-white border-brand-green shadow-lg shadow-brand-green/10;
  }

  /* The primary action pill (Request button on Dashboard) */
  .pill-primary {
    @apply h-8 px-2 bg-brand-green text-white rounded-full flex items-center gap-1 shadow-sm hover:bg-brand-green-hover transition-colors shrink-0;
  }

  /* The secondary action pill (Vouch button on Dashboard) */
  .pill-secondary {
    @apply h-8 px-2 bg-brand-stone text-brand-green rounded-full flex items-center gap-1 border border-brand-border shadow-sm hover:bg-brand-border transition-colors shrink-0;
  }

  .artisan-page-focus {
    @apply min-h-[80vh] flex flex-col items-center;
  }

  /* Standardizes the responsive width container for focused content */
  .artisan-container-sm {
    @apply w-full max-w-sm text-center;
  }

  .artisan-container-large {
    @apply w-full max-w-4xl mx-auto text-left;
  }

  .artisan-input {
    @apply w-full bg-white border-2 border-brand-border rounded-2xl 
           px-6 py-4 outline-none transition-all 
           text-brand-dark placeholder:text-brand-text/60
           focus:border-brand-green focus:shadow-sm focus:shadow-brand-green/5;
  }

  .input-adornment-wrapper {
    @apply relative flex items-center;
  }

  .input-adornment-right {
    @apply absolute right-4 top-1/2 -translate-y-1/2 flex items-center justify-center;
  }

  /* Standardizes the page intro section */
  .artisan-header {
    @apply mb-10 text-center;
  }

  .artisan-header-title {
    @apply text-3xl font-serif text-brand-dark;
  }

  .artisan-header-description {
    @apply mt-4 text-sm text-brand-text leading-relaxed;
  }

  .artisan-tooltip {
    @apply absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 p-2 
           bg-brand-dark text-white text-[9px] rounded-lg
           opacity-0 group-hover:opacity-100 transition-opacity 
           pointer-events-none z-10 shadow-xl;
  }

  /* Optional: Arrow/Pointer for the tooltip */
  .artisan-tooltip::after {
    content: '';
    @apply absolute top-full left-1/2 -translate-x-1/2 
           border-4 border-transparent border-t-brand-dark;
  }

  .artisan-toggle-btn {
    @apply py-3 rounded-xl text-[14px] capitalize tracking-widest transition-all border-2;
  }

  /* The 'Active' state matching your brand green */
  .artisan-toggle-btn-active {
    @apply border-brand-green bg-brand-green text-white;
  }

  /* The 'Inactive' state matching your brand stone */
  .artisan-toggle-btn-inactive {
    @apply border-brand-stone text-brand-muted hover:border-brand-border;
  }

  .artisan-card {
    @apply p-2 bg-white rounded-r-[2rem] rounded-l-[0.5rem] border-l-3 border-brand-terracotta
           shadow-[0_8px_30px_rgb(0,0,0,0.04)] 
           transition-all duration-500 ease-out disabled:opacity-50;
  }

  /* The inner recessed area for cards */
  .artisan-card-inner {
    @apply bg-brand-stone/50 rounded-[1.8rem] py-10 px-6;
  }

  /* For card headings like the Dog's Name */
  .artisan-card-title {
    @apply font-serif text-brand-dark text-sm truncate block;
  }

  .card-instruction-text {
    @apply text-sm text-brand-text leading-relaxed px-4;
  }

  /* For the tiny metadata like Dog Size or Status */
  .artisan-meta-tiny {
    @apply text-[12px] text-brand-text tracking-tighter block;
  }

  /* Standardizes the container for invite/verification codes */
  .artisan-code-display {
    @apply bg-white border border-brand-border rounded-xl py-6 shadow-inner 
           flex items-center justify-center;
  }

  /* Standardizes the high-visibility monospace code text */
  .text-passcode {
    @apply text-4xl font-mono font-bold tracking-[0.3em] text-brand-dark ml-[0.3em];
  }

  .text-passcode-expired {
    @apply opacity-60 grayscale;
  }

  /* Metadata Labels (Security Status, Dog Size, Timestamps) */
  .text-label {
    @apply text-[16px] font-bold capitalize tracking-[0.1em] text-brand-text;
  }

  .text-verified {
    @apply mt-3 text-[14px] text-brand-muted font-bold flex items-center gap-1.5 ml-1;
  }

  /* Standardizes "Back" buttons - We repeat the label logic instead of @applying it */
  .nav-link-back {
    @apply flex items-center gap-2 text-brand-text hover:text-brand-green 
           transition-colors mb-6 text-[14px] capitalize tracking-[0.1em];
  }

  /* Standardizes data rows (Icon + Text) */
  .detail-row {
    @apply flex gap-2 py-3 border-b border-brand-border/40 last:border-0;
  }

  /* Standardizes the small circles behind icons */
  .icon-box {
    @apply h-6 w-6 bg-brand-stone/50 rounded-full flex items-center 
           justify-center shadow-sm border border-brand-border shrink-0;
  }

  /* Security/Status Badges */
  .badge-pill {
    @apply inline-block px-3 py-1 bg-brand-stone rounded-full 
           text-[14px] capitalize tracking-[0.1em] font-bold text-brand-text;
  }

  /* Security/Status Badges 2 */
  .badge-pill-light {
    @apply inline-block px-3 py-1 text-[14px] tracking-[0.1em] text-brand-terracotta;
  }

  /* Standardized Alert Containers */
  .alert-error {
    @apply mt-6 p-4 rounded-xl bg-brand-terracotta/5 border border-brand-terracotta/10 text-center;
  }

  .alert-success {
    @apply p-6 rounded-2xl bg-brand-green/5 border border-brand-green/10 text-center;
  }

  /* Standardized Typography for Alerts */
  .alert-title {
    @apply text-[16px] tracking-tighter block mb-1 text-brand-text;
  }

  .alert-body {
    @apply text-[16px] text-brand-text block;
  }

  .link-standard {
    @apply text-brand-text hover:text-brand-green disabled:text-brand-muted 
    transition-colors duration-300 flex items-center justify-center gap-2;
  }

  .loading-focus-state {
    @apply text-center py-20 animate-in;
  }

  .spinner-brand {
    @apply h-12 w-12 border-4 border-brand-green border-t-transparent rounded-full animate-spin mx-auto mb-6;
  }

  .partial-border-circle {
    @apply border-8 rounded-full w-10 h-10 border-r-transparent border-t-transparent border-b-transparent border-l-red-500
  }
}